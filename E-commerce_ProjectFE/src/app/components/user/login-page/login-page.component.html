<!-- Include Font Awesome in index.html -->
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"> -->

<div class="login-container">
  <!-- Toggle Switch -->
  <div class="toggle-container">
    <div class="toggle-wrapper">
      <span class="toggle-label" [class.active]="!isAdminLogin">Customer</span>
      <div class="toggle-switch" (click)="toggleLoginMode()">
        <div class="toggle-slider" [class.admin]="isAdminLogin"></div>
      </div>
      <span class="toggle-label" [class.active]="isAdminLogin">Admin</span>
    </div>
  </div>

  <!-- Login Form -->
  <div class="login-form" [class.admin-mode]="isAdminLogin">
    <h2>{{ isAdminLogin ? 'Admin Login' : 'Customer Login' }}</h2>

    <!-- Admin Login -->
    <form *ngIf="isAdminLogin" (ngSubmit)="onAdminSubmit()" #adminLoginForm="ngForm">
      <div class="form-group input-icon-group">
        <div class="input-wrapper">
          <i class="fa fa-envelope icon"></i>
          <input
            type="text"
            id="admin-username"
            placeholder="Email ID"
            name="username"
            [(ngModel)]="adminEmail"
            required
          />
        </div>
      </div>

      <div class="form-group input-icon-group">
        <div class="input-wrapper">
          <i class="fa fa-lock icon"></i>
          <input
            [type]="showAdminPassword ? 'text' : 'password'"
            id="admin-password"
            placeholder="Password"
            name="password"
            [(ngModel)]="adminPassword"
            required
          />
          <i
            class="fa"
            [ngClass]="showAdminPassword ? 'fa-eye-slash' : 'fa-eye'"
            (click)="toggleAdminPasswordVisibility()"
          ></i>
        </div>
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="!adminLoginForm.form.valid">Login</button>

      <ng-container *ngIf="adminerrorMessage">
        <div class="alert alert-danger">{{ adminerrorMessage }}</div>
      </ng-container>
    </form>

    <!-- Customer Login -->
    <form *ngIf="!isAdminLogin" (ngSubmit)="onCustomerSubmit()" #customerLoginForm="ngForm">
      <div class="form-group input-icon-group">
        <div class="input-wrapper">
          <i class="fa fa-envelope icon"></i>
          <input
            type="email"
            id="customer-username"
            placeholder="Email ID"
            name="loginEmail"
            [(ngModel)]="userEmail"
            required
          />
        </div>
      </div>

      <div class="form-group input-icon-group">
        <div class="input-wrapper">
          <i class="fa fa-lock icon"></i>
          <input
            [type]="showUserPassword ? 'text' : 'password'"
            id="customer-password"
            placeholder="Password"
            name="loginPassword"
            [(ngModel)]="userPassword"
            required
          />
          <i
            class="fa"
            [ngClass]="showUserPassword ? 'fa-eye-slash' : 'fa-eye'"
            (click)="toggleUserPasswordVisibility()"
          ></i>
        </div>
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="!customerLoginForm.form.valid">Login</button>

      <ng-container *ngIf="usererrorMessage">
        <div class="alert alert-danger">{{ usererrorMessage }}</div>
      </ng-container>

      <div class="register-link">
        <p>Don't have an account?&nbsp; &nbsp; <a routerLink="/register"> Register Here</a></p>
      </div>
    </form>
  </div>
</div>
